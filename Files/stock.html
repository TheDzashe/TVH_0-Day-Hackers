<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kaci Connect - Stock Page</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-[#F5F5F5] text-gray-800 leading-relaxed font-sans">

  <!-- Header -->
  <header class="bg-gradient-to-r from-[#007AFF] to-[#0050cc] text-white px-[5%] py-4 flex justify-between items-center shadow-md">
    <div class="text-2xl font-bold">KACI CONNECT</div>
    <ul class="hidden md:flex list-none">
      <li class="mx-4"><a href="premiumPlan.html" class="text-white font-medium hover:text-[#FFFF00] transition">Home</a></li>
     
    </ul>
    <div class="flex gap-4">
      <button id="logout-btn" class="px-5 py-2 rounded border border-white text-white font-medium hover:bg-white/10 transition">Logout</button>
    </div>
   
  </header>

  <div class="max-w-[1200px] mx-auto px-5 py-8 grid grid-cols-1 md:grid-cols-2 gap-6">

    <!-- Add Stock Form -->
    <div class="bg-white rounded-lg p-6 shadow">
      <h3 class="text-lg font-semibold text-[#007AFF] mb-4">Add / Edit Stock</h3>
      <form id="stock-form" class="space-y-4">
        <input type="hidden" id="edit-index"> <!-- hidden field for editing -->

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Item Name</label>
          <input type="text" id="stock-item" class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-[#007AFF] focus:border-[#007AFF]" required="">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Quantity</label>
          <input type="number" id="stock-quantity" class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-[#007AFF] focus:border-[#007AFF]" required="">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Supplier</label>
          <input type="text" id="stock-supplier" class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-[#007AFF] focus:border-[#007AFF]" required="">
        </div>
        <button type="submit" class="w-full bg-[#007AFF] text-white py-2 rounded font-medium hover:bg-[#0050cc] transition">
          Save Stock
        </button>
      </form>
    </div>

    <!-- Recent Stock -->
    <div class="bg-white rounded-lg p-6 shadow">
      <h3 class="text-lg font-semibold text-[#007AFF] mb-4">Recent Stock</h3>
      <ul id="stock-list" class="divide-y divide-gray-200">
        <!-- items will load dynamically -->
      </ul>
    </div>

  </div>

  <!-- Footer -->
  <footer class="bg-gradient-to-r from-[#007AFF] to-[#0050cc] text-white px-[5%] py-10 mt-12">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 max-w-[1200px] mx-auto">
      <div>
        <h3 class="text-lg mb-5 pb-2 relative after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-10 after:h-0.5 after:bg-[#FFFF00]">
          About Us
        </h3>
        <p class="text-sm">Kaci Connect helps you manage stock efficiently with our easy-to-use tools.</p>
      </div>
      <div>
        <h3 class="text-lg mb-5 pb-2 relative after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-10 after:h-0.5 after:bg-[#FFFF00]">
          Quick Links
        </h3>
        <ul class="space-y-2 text-sm">
          <li><a href="#" class="hover:text-[#FFFF00] transition">Home</a></li>
          <li><a href="#" class="hover:text-[#FFFF00] transition">Features</a></li>
          <li><a href="#" class="hover:text-[#FFFF00] transition">Pricing</a></li>
          <li><a href="#" class="hover:text-[#FFFF00] transition">About</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-lg mb-5 pb-2 relative after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-10 after:h-0.5 after:bg-[#FFFF00]">
          Contact Info
        </h3>
        <ul class="space-y-2 text-sm">
          <li>Email: info@kaciconnect.com</li>
          <li>Phone: +27 12 345 6789</li>
          <li>Address: 123 Finance St, Johannesburg</li>
        </ul>
      </div>
    </div>
    <div class="border-t border-white/20 mt-8 pt-6 text-center text-sm">
      <p>&copy; 2025 Kaci Connect. All rights reserved.</p>
    </div>
  </footer>

  <!-- JavaScript -->
  <script>
    const stockForm = document.getElementById("stock-form");
    const itemInput = document.getElementById("stock-item");
    const quantityInput = document.getElementById("stock-quantity");
    const supplierInput = document.getElementById("stock-supplier");
    const editIndexInput = document.getElementById("edit-index");
    const stockList = document.getElementById("stock-list");

    let stocks = JSON.parse(localStorage.getItem("stocks")) || [];

    function renderStocks() {
      stockList.innerHTML = "";
      stocks.forEach((stock, index) => {
        const li = document.createElement("li");
        li.className = "py-3 flex justify-between items-center";
        li.innerHTML = `
          <div>
            <span class="font-medium">${stock.item}</span> 
            (${stock.quantity} units) 
            <span class="text-gray-600 ml-2">Supplier: ${stock.supplier}</span>
          </div>
          <div class="flex gap-2">
            <button class="text-blue-500 hover:text-blue-700" onclick="editStock(${index})"><i class="fas fa-edit"></i></button>
            <button class="text-red-500 hover:text-red-700" onclick="deleteStock(${index})"><i class="fas fa-trash"></i></button>
          </div>
        `;
        stockList.appendChild(li);
      });
    }

    function saveStocks() {
      localStorage.setItem("stocks", JSON.stringify(stocks));
      renderStocks();
    }

    stockForm.addEventListener("submit", (e) => {
      e.preventDefault();

      const item = itemInput.value.trim();
      const quantity = parseInt(quantityInput.value);
      const supplier = supplierInput.value.trim();

      if (!item || quantity <= 0 || !supplier) {
        alert("Please enter valid stock details.");
        return;
      }

      if (editIndexInput.value) {
        const index = parseInt(editIndexInput.value);
        stocks[index] = { item, quantity, supplier };
        editIndexInput.value = "";
      } else {
        stocks.push({ item, quantity, supplier });
      }

      saveStocks();
      stockForm.reset();
    });

    function editStock(index) {
      const stock = stocks[index];
      itemInput.value = stock.item;
      quantityInput.value = stock.quantity;
      supplierInput.value = stock.supplier;
      editIndexInput.value = index;
    }

    function deleteStock(index) {
      if (confirm("Are you sure you want to delete this stock?")) {
        stocks.splice(index, 1);
        saveStocks();
      }
    }
    
    // LOGOUT BUTTON
    document.getElementById("logout-btn").addEventListener("click", function() {
      localStorage.removeItem("user");
      window.location.href = "index.html";
    });

    // Initial render
    renderStocks();
  </script>
</body>
</html>
